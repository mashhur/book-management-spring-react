{"ast":null,"code":"var _jsxFileName = \"/Users/qazi-amaan/Documents/mini-project/react-admin/src/pages/Books/AddBook.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport * as Yup from \"yup\";\nimport { useState, useEffect } from \"react\";\nimport { Link as RouterLink, useNavigate } from \"react-router-dom\";\nimport { Card, Container, Stack, Typography, InputLabel, Input, FormHelperText, FormControl, TextField, Select, MenuItem } from \"@mui/material\";\nimport { LoadingButton } from \"@mui/lab\";\nimport { useFormik, Form, FormikProvider } from \"formik\";\nimport Page from \"../../components/Page\";\nimport Scrollbar from \"../../components/Scrollbar\";\nimport { getAllCategories } from \"../../service/CategoryService\";\nimport { createBook } from \"../../service/BooksService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AddBooks() {\n  _s();\n\n  const navigate = useNavigate();\n  const [category, setCategory] = useState(\"\");\n  useEffect(() => {}, []);\n  const RegisterSchema = Yup.object().shape({\n    title: Yup.string().min(2, \"Too Short!\").max(50, \"Too Long!\").required(\"Title required\"),\n    author: Yup.string().min(2, \"Too Short!\").max(50, \"Too Long!\").required(\"Author required\"),\n    publisher: Yup.string().min(2, \"Too Short!\").max(50, \"Too Long!\").required(\"Publisher required\"),\n    year: Yup.number().test(\"len\", \"Must be exactly 4 characters\", val => !val || val && val.toString().length === 4).required(\"Year required\"),\n    price: Yup.number().required(\"Price required\"),\n    description: Yup.string().min(2, \"Too Short!\").max(5000, \"Too Long!\").required(\"Description required\"),\n    cover: Yup.string().required(\"Cover image required\")\n  });\n  const formik = useFormik({\n    initialValues: {\n      title: \"\",\n      author: \"\",\n      publisher: \"\",\n      year: \"\",\n      price: \"\",\n      description: \"\",\n      cover: \"\"\n    },\n    validationSchema: RegisterSchema,\n    onSubmit: values => {\n      values.categoryName = category;\n      console.log(values);\n      createBook(values).then(_res => {\n        window.history.back();\n      });\n    }\n  });\n  const {\n    errors,\n    touched,\n    handleSubmit,\n    isSubmitting,\n    getFieldProps\n  } = formik;\n  return /*#__PURE__*/_jsxDEV(Page, {\n    title: \"Admin\",\n    children: /*#__PURE__*/_jsxDEV(Scrollbar, {\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(Stack, {\n          direction: \"row\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n          mb: 2,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h4\",\n            children: \" Add Book\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(FormikProvider, {\n          value: formik,\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            autoComplete: \"off\",\n            noValidate: true,\n            onSubmit: handleSubmit,\n            children: /*#__PURE__*/_jsxDEV(Stack, {\n              justifyContent: \"center\",\n              sx: {\n                width: \"55%\"\n              },\n              spacing: 3,\n              children: [/*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Title\",\n                ...getFieldProps(\"title\"),\n                error: Boolean(touched.title && errors.title),\n                helperText: touched.title && errors.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Author\",\n                ...getFieldProps(\"author\"),\n                error: Boolean(touched.author && errors.author),\n                helperText: touched.author && errors.author\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(Stack, {\n                direction: \"row\",\n                spacing: 3,\n                children: [/*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"Publisher\",\n                  ...getFieldProps(\"publisher\"),\n                  error: Boolean(touched.publisher && errors.publisher),\n                  helperText: touched.publisher && errors.publisher\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"Year\",\n                  ...getFieldProps(\"year\"),\n                  error: Boolean(touched.year && errors.year),\n                  helperText: touched.year && errors.year\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(Stack, {\n                direction: \"row\",\n                spacing: 3,\n                children: [/*#__PURE__*/_jsxDEV(SelectComponent, {\n                  category: category,\n                  setCategory: setCategory\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"Price\",\n                  ...getFieldProps(\"price\"),\n                  error: Boolean(touched.price && errors.price),\n                  helperText: touched.price && errors.price\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Cover\",\n                ...getFieldProps(\"cover\"),\n                error: Boolean(touched.cover && errors.cover),\n                helperText: touched.cover && errors.cover\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                multiline: true,\n                id: \"outlined-multiline-static\",\n                rows: 3,\n                label: \"Description\",\n                ...getFieldProps(\"description\"),\n                error: Boolean(touched.description && errors.description),\n                helperText: touched.description && errors.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(LoadingButton, {\n                fullWidth: true,\n                size: \"large\",\n                type: \"submit\",\n                variant: \"contained\",\n                loading: isSubmitting,\n                children: \"Add book\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 3\n  }, this);\n}\n\n_s(AddBooks, \"TACh/NLc1js0sanoHxoOHDm+HPs=\", false, function () {\n  return [useNavigate, useFormik];\n});\n\n_c = AddBooks;\n\nfunction SelectComponent({\n  category,\n  setCategory\n}) {\n  _s2();\n\n  const [categoryData, setCategoryData] = useState([]);\n\n  const handleChange = event => {\n    setCategory(event.target.value);\n  };\n\n  useEffect(() => {\n    getAllCategories().then(_category => {\n      setCategoryData(_category.data);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(FormControl, {\n    fullWidth: true,\n    children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n      id: \"demo-simple-select-label\",\n      children: \"Category\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Select, {\n      labelId: \"demo-simple-select-label\",\n      id: \"demo-simple-select\",\n      value: category,\n      label: \"Category\",\n      onChange: handleChange,\n      children: categoryData.map(item => /*#__PURE__*/_jsxDEV(MenuItem, {\n        value: item.name,\n        children: item.name\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 6\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 231,\n    columnNumber: 3\n  }, this);\n}\n\n_s2(SelectComponent, \"AgpCcAGdwhA7aUwJaPipC4+8sDU=\");\n\n_c2 = SelectComponent;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AddBooks\");\n$RefreshReg$(_c2, \"SelectComponent\");","map":{"version":3,"sources":["/Users/qazi-amaan/Documents/mini-project/react-admin/src/pages/Books/AddBook.jsx"],"names":["Yup","useState","useEffect","Link","RouterLink","useNavigate","Card","Container","Stack","Typography","InputLabel","Input","FormHelperText","FormControl","TextField","Select","MenuItem","LoadingButton","useFormik","Form","FormikProvider","Page","Scrollbar","getAllCategories","createBook","AddBooks","navigate","category","setCategory","RegisterSchema","object","shape","title","string","min","max","required","author","publisher","year","number","test","val","toString","length","price","description","cover","formik","initialValues","validationSchema","onSubmit","values","categoryName","console","log","then","_res","window","history","back","errors","touched","handleSubmit","isSubmitting","getFieldProps","width","Boolean","SelectComponent","categoryData","setCategoryData","handleChange","event","target","value","_category","data","map","item","name","id"],"mappings":"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","sourcesContent":["import * as Yup from \"yup\";\nimport { useState, useEffect } from \"react\";\nimport {\n\tLink as RouterLink,\n\tuseNavigate,\n} from \"react-router-dom\";\nimport {\n\tCard,\n\tContainer,\n\tStack,\n\tTypography,\n\tInputLabel,\n\tInput,\n\tFormHelperText,\n\tFormControl,\n\tTextField,\n\tSelect,\n\tMenuItem,\n} from \"@mui/material\";\nimport { LoadingButton } from \"@mui/lab\";\nimport { useFormik, Form, FormikProvider } from \"formik\";\n\nimport Page from \"../../components/Page\";\nimport Scrollbar from \"../../components/Scrollbar\";\n\nimport { getAllCategories } from \"../../service/CategoryService\";\nimport { createBook } from \"../../service/BooksService\";\n\nexport default function AddBooks() {\n\tconst navigate = useNavigate();\n\tconst [category, setCategory] = useState(\"\");\n\n\tuseEffect(() => {}, []);\n\n\tconst RegisterSchema = Yup.object().shape({\n\t\ttitle: Yup.string()\n\t\t\t.min(2, \"Too Short!\")\n\t\t\t.max(50, \"Too Long!\")\n\t\t\t.required(\"Title required\"),\n\t\tauthor: Yup.string()\n\t\t\t.min(2, \"Too Short!\")\n\t\t\t.max(50, \"Too Long!\")\n\t\t\t.required(\"Author required\"),\n\t\tpublisher: Yup.string()\n\t\t\t.min(2, \"Too Short!\")\n\t\t\t.max(50, \"Too Long!\")\n\t\t\t.required(\"Publisher required\"),\n\t\tyear: Yup.number()\n\t\t\t.test(\n\t\t\t\t\"len\",\n\t\t\t\t\"Must be exactly 4 characters\",\n\t\t\t\t(val) =>\n\t\t\t\t\t!val || (val && val.toString().length === 4)\n\t\t\t)\n\t\t\t.required(\"Year required\"),\n\t\tprice: Yup.number().required(\"Price required\"),\n\t\tdescription: Yup.string()\n\t\t\t.min(2, \"Too Short!\")\n\t\t\t.max(5000, \"Too Long!\")\n\t\t\t.required(\"Description required\"),\n\t\tcover: Yup.string().required(\"Cover image required\"),\n\t});\n\n\tconst formik = useFormik({\n\t\tinitialValues: {\n\t\t\ttitle: \"\",\n\t\t\tauthor: \"\",\n\t\t\tpublisher: \"\",\n\t\t\tyear: \"\",\n\t\t\tprice: \"\",\n\t\t\tdescription: \"\",\n\t\t\tcover: \"\",\n\t\t},\n\t\tvalidationSchema: RegisterSchema,\n\t\tonSubmit: (values) => {\n\t\t\tvalues.categoryName = category;\n\t\t\tconsole.log(values);\n\t\t\tcreateBook(values).then((_res) => {\n\t\t\t\twindow.history.back();\n\t\t\t});\n\t\t},\n\t});\n\n\tconst {\n\t\terrors,\n\t\ttouched,\n\t\thandleSubmit,\n\t\tisSubmitting,\n\t\tgetFieldProps,\n\t} = formik;\n\n\treturn (\n\t\t<Page title=\"Admin\">\n\t\t\t<Scrollbar>\n\t\t\t\t<Container>\n\t\t\t\t\t<Stack\n\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\t\t\tmb={2}>\n\t\t\t\t\t\t<Typography variant=\"h4\"> Add Book</Typography>\n\t\t\t\t\t</Stack>\n\t\t\t\t\t<FormikProvider value={formik}>\n\t\t\t\t\t\t<Form\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tnoValidate\n\t\t\t\t\t\t\tonSubmit={handleSubmit}>\n\t\t\t\t\t\t\t<Stack\n\t\t\t\t\t\t\t\tjustifyContent=\"center\"\n\t\t\t\t\t\t\t\tsx={{ width: \"55%\" }}\n\t\t\t\t\t\t\t\tspacing={3}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tlabel=\"Title\"\n\t\t\t\t\t\t\t\t\t{...getFieldProps(\"title\")}\n\t\t\t\t\t\t\t\t\terror={Boolean(\n\t\t\t\t\t\t\t\t\t\ttouched.title && errors.title\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\thelperText={touched.title && errors.title}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tlabel=\"Author\"\n\t\t\t\t\t\t\t\t\t{...getFieldProps(\"author\")}\n\t\t\t\t\t\t\t\t\terror={Boolean(\n\t\t\t\t\t\t\t\t\t\ttouched.author && errors.author\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\ttouched.author && errors.author\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<Stack direction=\"row\" spacing={3}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tlabel=\"Publisher\"\n\t\t\t\t\t\t\t\t\t\t{...getFieldProps(\"publisher\")}\n\t\t\t\t\t\t\t\t\t\terror={Boolean(\n\t\t\t\t\t\t\t\t\t\t\ttouched.publisher && errors.publisher\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\t\ttouched.publisher && errors.publisher\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tlabel=\"Year\"\n\t\t\t\t\t\t\t\t\t\t{...getFieldProps(\"year\")}\n\t\t\t\t\t\t\t\t\t\terror={Boolean(\n\t\t\t\t\t\t\t\t\t\t\ttouched.year && errors.year\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.year && errors.year}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t\t<Stack direction=\"row\" spacing={3}>\n\t\t\t\t\t\t\t\t\t<SelectComponent\n\t\t\t\t\t\t\t\t\t\tcategory={category}\n\t\t\t\t\t\t\t\t\t\tsetCategory={setCategory}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tlabel=\"Price\"\n\t\t\t\t\t\t\t\t\t\t{...getFieldProps(\"price\")}\n\t\t\t\t\t\t\t\t\t\terror={Boolean(\n\t\t\t\t\t\t\t\t\t\t\ttouched.price && errors.price\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\t\ttouched.price && errors.price\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tlabel=\"Cover\"\n\t\t\t\t\t\t\t\t\t{...getFieldProps(\"cover\")}\n\t\t\t\t\t\t\t\t\terror={Boolean(\n\t\t\t\t\t\t\t\t\t\ttouched.cover && errors.cover\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\thelperText={touched.cover && errors.cover}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\tid=\"outlined-multiline-static\"\n\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\tlabel=\"Description\"\n\t\t\t\t\t\t\t\t\t{...getFieldProps(\"description\")}\n\t\t\t\t\t\t\t\t\terror={Boolean(\n\t\t\t\t\t\t\t\t\t\ttouched.description &&\n\t\t\t\t\t\t\t\t\t\t\terrors.description\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\ttouched.description &&\n\t\t\t\t\t\t\t\t\t\terrors.description\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<LoadingButton\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tloading={isSubmitting}>\n\t\t\t\t\t\t\t\t\tAdd book\n\t\t\t\t\t\t\t\t</LoadingButton>\n\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</FormikProvider>\n\t\t\t\t</Container>\n\t\t\t</Scrollbar>\n\t\t</Page>\n\t);\n}\n\nfunction SelectComponent({ category, setCategory }) {\n\tconst [categoryData, setCategoryData] = useState([]);\n\n\tconst handleChange = (event) => {\n\t\tsetCategory(event.target.value);\n\t};\n\n\tuseEffect(() => {\n\t\tgetAllCategories().then((_category) => {\n\t\t\tsetCategoryData(_category.data);\n\t\t});\n\t}, []);\n\n\treturn (\n\t\t<FormControl fullWidth>\n\t\t\t<InputLabel id=\"demo-simple-select-label\">\n\t\t\t\tCategory\n\t\t\t</InputLabel>\n\t\t\t<Select\n\t\t\t\tlabelId=\"demo-simple-select-label\"\n\t\t\t\tid=\"demo-simple-select\"\n\t\t\t\tvalue={category}\n\t\t\t\tlabel=\"Category\"\n\t\t\t\tonChange={handleChange}>\n\t\t\t\t{categoryData.map((item) => (\n\t\t\t\t\t<MenuItem key={item.id} value={item.name}>\n\t\t\t\t\t\t{item.name}\n\t\t\t\t\t</MenuItem>\n\t\t\t\t))}\n\t\t\t</Select>\n\t\t</FormControl>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}