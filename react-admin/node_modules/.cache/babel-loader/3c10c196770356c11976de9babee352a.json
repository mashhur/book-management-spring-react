{"ast":null,"code":"var _jsxFileName = \"/Users/qazi-amaan/Documents/mini-project/react-admin/src/pages/Books/AddBook.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport * as Yup from 'yup';\nimport { useState, useEffect } from 'react';\nimport { Link as RouterLink, useNavigate } from 'react-router-dom';\nimport { Card, Container, Stack, Typography, InputLabel, Input, FormHelperText, FormControl, TextField, Select, MenuItem } from '@mui/material';\nimport { LoadingButton } from '@mui/lab';\nimport { useFormik, Form, FormikProvider } from 'formik';\nimport Page from '../../components/Page';\nimport Scrollbar from '../../components/Scrollbar';\nimport { getAllCategories } from '../../service/CategoryService';\nimport { createBook } from '../../service/BooksService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AddBooks() {\n  _s();\n\n  const navigate = useNavigate();\n  const [category, setCategory] = useState('');\n  useEffect(() => {}, []);\n  const RegisterSchema = Yup.object().shape({\n    title: Yup.string().min(2, 'Too Short!').max(50, 'Too Long!').required('Title required'),\n    author: Yup.string().min(2, 'Too Short!').max(50, 'Too Long!').required('Author required'),\n    publisher: Yup.string().min(2, 'Too Short!').max(50, 'Too Long!').required('Publisher required'),\n    year: Yup.number().test('len', 'Must be exactly 4 characters', val => !val || val && val.toString().length === 4).required('Year required'),\n    price: Yup.number().required('Price required'),\n    description: Yup.string().min(2, 'Too Short!').max(1000, 'Too Long!').required('Description required'),\n    cover: Yup.string().required('Cover image required')\n  });\n  const formik = useFormik({\n    initialValues: {\n      title: '',\n      author: '',\n      publisher: '',\n      year: '',\n      price: '',\n      description: '',\n      cover: ''\n    },\n    validationSchema: RegisterSchema,\n    onSubmit: values => {\n      values.categoryName = category;\n      console.log(values);\n      createBook(values).then(_res => {\n        window.history.back();\n      });\n    }\n  });\n  const {\n    errors,\n    touched,\n    handleSubmit,\n    isSubmitting,\n    getFieldProps\n  } = formik;\n  return /*#__PURE__*/_jsxDEV(Page, {\n    title: \"Admin\",\n    children: /*#__PURE__*/_jsxDEV(Scrollbar, {\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(Stack, {\n          direction: \"row\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n          mb: 2,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h4\",\n            children: \" Add Book\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormikProvider, {\n          value: formik,\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            autoComplete: \"off\",\n            noValidate: true,\n            onSubmit: handleSubmit,\n            children: /*#__PURE__*/_jsxDEV(Stack, {\n              justifyContent: \"center\",\n              sx: {\n                width: '55%'\n              },\n              spacing: 3,\n              children: [/*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Title\",\n                ...getFieldProps('title'),\n                error: Boolean(touched.title && errors.title),\n                helperText: touched.title && errors.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Author\",\n                ...getFieldProps('author'),\n                error: Boolean(touched.author && errors.author),\n                helperText: touched.author && errors.author\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Stack, {\n                direction: \"row\",\n                spacing: 3,\n                children: [/*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"Publisher\",\n                  ...getFieldProps('publisher'),\n                  error: Boolean(touched.publisher && errors.publisher),\n                  helperText: touched.publisher && errors.publisher\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"Year\",\n                  ...getFieldProps('year'),\n                  error: Boolean(touched.year && errors.year),\n                  helperText: touched.year && errors.year\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Stack, {\n                direction: \"row\",\n                spacing: 3,\n                children: [/*#__PURE__*/_jsxDEV(SelectComponent, {\n                  category: category,\n                  setCategory: setCategory\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"Price\",\n                  ...getFieldProps('price'),\n                  error: Boolean(touched.price && errors.price),\n                  helperText: touched.price && errors.price\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Cover\",\n                ...getFieldProps('cover'),\n                error: Boolean(touched.cover && errors.cover),\n                helperText: touched.cover && errors.cover\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                multiline: true,\n                id: \"outlined-multiline-static\",\n                rows: 3,\n                label: \"Description\",\n                ...getFieldProps('description'),\n                error: Boolean(touched.description && errors.description),\n                helperText: touched.description && errors.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(LoadingButton, {\n                fullWidth: true,\n                size: \"large\",\n                type: \"submit\",\n                variant: \"contained\",\n                loading: isSubmitting,\n                children: \"Add book\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AddBooks, \"m3ZqqvE+l1XC/xChEqnvVWIfmcE=\", false, function () {\n  return [useNavigate, useFormik];\n});\n\n_c = AddBooks;\n\nfunction SelectComponent({\n  category,\n  setCategory\n}) {\n  _s2();\n\n  const [categoryData, setCategoryData] = useState([]);\n\n  const handleChange = event => {\n    setCategory(event.target.value);\n  };\n\n  useEffect(() => {\n    getAllCategories().then(_category => {\n      setCategoryData(_category.data);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(FormControl, {\n    fullWidth: true,\n    children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n      id: \"demo-simple-select-label\",\n      children: \"Category\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Select, {\n      labelId: \"demo-simple-select-label\",\n      id: \"demo-simple-select\",\n      value: category,\n      label: \"Category\",\n      onChange: handleChange,\n      children: categoryData.map(item => /*#__PURE__*/_jsxDEV(MenuItem, {\n        value: item.name,\n        children: item.name\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 179,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(SelectComponent, \"AgpCcAGdwhA7aUwJaPipC4+8sDU=\");\n\n_c2 = SelectComponent;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AddBooks\");\n$RefreshReg$(_c2, \"SelectComponent\");","map":{"version":3,"sources":["/Users/qazi-amaan/Documents/mini-project/react-admin/src/pages/Books/AddBook.jsx"],"names":["Yup","useState","useEffect","Link","RouterLink","useNavigate","Card","Container","Stack","Typography","InputLabel","Input","FormHelperText","FormControl","TextField","Select","MenuItem","LoadingButton","useFormik","Form","FormikProvider","Page","Scrollbar","getAllCategories","createBook","AddBooks","navigate","category","setCategory","RegisterSchema","object","shape","title","string","min","max","required","author","publisher","year","number","test","val","toString","length","price","description","cover","formik","initialValues","validationSchema","onSubmit","values","categoryName","console","log","then","_res","window","history","back","errors","touched","handleSubmit","isSubmitting","getFieldProps","width","Boolean","SelectComponent","categoryData","setCategoryData","handleChange","event","target","value","_category","data","map","item","name","id"],"mappings":"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","sourcesContent":["import * as Yup from 'yup';\nimport { useState, useEffect } from 'react';\nimport { Link as RouterLink, useNavigate } from 'react-router-dom';\nimport {\n  Card,\n  Container,\n  Stack,\n  Typography,\n  InputLabel,\n  Input,\n  FormHelperText,\n  FormControl,\n  TextField,\n  Select,\n  MenuItem\n} from '@mui/material';\nimport { LoadingButton } from '@mui/lab';\nimport { useFormik, Form, FormikProvider } from 'formik';\n\nimport Page from '../../components/Page';\nimport Scrollbar from '../../components/Scrollbar';\n\nimport { getAllCategories } from '../../service/CategoryService';\nimport { createBook } from '../../service/BooksService';\n\nexport default function AddBooks() {\n  const navigate = useNavigate();\n  const [category, setCategory] = useState('');\n\n  useEffect(() => {}, []);\n\n  const RegisterSchema = Yup.object().shape({\n    title: Yup.string().min(2, 'Too Short!').max(50, 'Too Long!').required('Title required'),\n    author: Yup.string().min(2, 'Too Short!').max(50, 'Too Long!').required('Author required'),\n    publisher: Yup.string()\n      .min(2, 'Too Short!')\n      .max(50, 'Too Long!')\n      .required('Publisher required'),\n    year: Yup.number()\n      .test(\n        'len',\n        'Must be exactly 4 characters',\n        (val) => !val || (val && val.toString().length === 4)\n      )\n      .required('Year required'),\n    price: Yup.number().required('Price required'),\n    description: Yup.string()\n      .min(2, 'Too Short!')\n      .max(1000, 'Too Long!')\n      .required('Description required'),\n    cover: Yup.string().required('Cover image required')\n  });\n\n  const formik = useFormik({\n    initialValues: {\n      title: '',\n      author: '',\n      publisher: '',\n      year: '',\n      price: '',\n      description: '',\n      cover: ''\n    },\n    validationSchema: RegisterSchema,\n    onSubmit: (values) => {\n      values.categoryName = category;\n      console.log(values);\n      createBook(values).then((_res) => {\n        window.history.back();\n      });\n    }\n  });\n\n  const { errors, touched, handleSubmit, isSubmitting, getFieldProps } = formik;\n\n  return (\n    <Page title=\"Admin\">\n      <Scrollbar>\n        <Container>\n          <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\" mb={2}>\n            <Typography variant=\"h4\"> Add Book</Typography>\n          </Stack>\n          <FormikProvider value={formik}>\n            <Form autoComplete=\"off\" noValidate onSubmit={handleSubmit}>\n              <Stack justifyContent=\"center\" sx={{ width: '55%' }} spacing={3}>\n                <TextField\n                  fullWidth\n                  label=\"Title\"\n                  {...getFieldProps('title')}\n                  error={Boolean(touched.title && errors.title)}\n                  helperText={touched.title && errors.title}\n                />\n\n                <TextField\n                  fullWidth\n                  label=\"Author\"\n                  {...getFieldProps('author')}\n                  error={Boolean(touched.author && errors.author)}\n                  helperText={touched.author && errors.author}\n                />\n\n                <Stack direction=\"row\" spacing={3}>\n                  <TextField\n                    fullWidth\n                    label=\"Publisher\"\n                    {...getFieldProps('publisher')}\n                    error={Boolean(touched.publisher && errors.publisher)}\n                    helperText={touched.publisher && errors.publisher}\n                  />\n                  <TextField\n                    fullWidth\n                    label=\"Year\"\n                    {...getFieldProps('year')}\n                    error={Boolean(touched.year && errors.year)}\n                    helperText={touched.year && errors.year}\n                  />\n                </Stack>\n                <Stack direction=\"row\" spacing={3}>\n                  <SelectComponent category={category} setCategory={setCategory} />\n\n                  <TextField\n                    fullWidth\n                    label=\"Price\"\n                    {...getFieldProps('price')}\n                    error={Boolean(touched.price && errors.price)}\n                    helperText={touched.price && errors.price}\n                  />\n                </Stack>\n                <TextField\n                  fullWidth\n                  label=\"Cover\"\n                  {...getFieldProps('cover')}\n                  error={Boolean(touched.cover && errors.cover)}\n                  helperText={touched.cover && errors.cover}\n                />\n                <TextField\n                  fullWidth\n                  multiline\n                  id=\"outlined-multiline-static\"\n                  rows={3}\n                  label=\"Description\"\n                  {...getFieldProps('description')}\n                  error={Boolean(touched.description && errors.description)}\n                  helperText={touched.description && errors.description}\n                />\n\n                <LoadingButton\n                  fullWidth\n                  size=\"large\"\n                  type=\"submit\"\n                  variant=\"contained\"\n                  loading={isSubmitting}\n                >\n                  Add book\n                </LoadingButton>\n              </Stack>\n            </Form>\n          </FormikProvider>\n        </Container>\n      </Scrollbar>\n    </Page>\n  );\n}\n\nfunction SelectComponent({ category, setCategory }) {\n  const [categoryData, setCategoryData] = useState([]);\n\n  const handleChange = (event) => {\n    setCategory(event.target.value);\n  };\n\n  useEffect(() => {\n    getAllCategories().then((_category) => {\n      setCategoryData(_category.data);\n    });\n  }, []);\n\n  return (\n    <FormControl fullWidth>\n      <InputLabel id=\"demo-simple-select-label\">Category</InputLabel>\n      <Select\n        labelId=\"demo-simple-select-label\"\n        id=\"demo-simple-select\"\n        value={category}\n        label=\"Category\"\n        onChange={handleChange}\n      >\n        {categoryData.map((item) => (\n          <MenuItem key={item.id} value={item.name}>\n            {item.name}\n          </MenuItem>\n        ))}\n      </Select>\n    </FormControl>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}